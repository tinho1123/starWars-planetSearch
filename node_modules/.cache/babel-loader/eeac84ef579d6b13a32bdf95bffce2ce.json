{"ast":null,"code":"import { useEffect, useState } from 'react';\n\nfunction FetchPlanets() {\n  const url = 'https://swapi-trybe.herokuapp.com/api/planets/';\n  const [data, setData] = useState();\n\n  const getStarsWars = () => {\n    fetch(url).then(response => response.json()).then(dataRes => {\n      setData(dataRes);\n      setPlanets(dataRes.results);\n    });\n  };\n\n  const filtragem = name => {\n    if (name === '') {\n      setPlanets(data.results);\n    } else {\n      const filterName = planets.filter(item => item.name.includes(name));\n\n      if (filterName.length !== 0) {\n        setPlanets(filterName);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getStarsWars();\n  }, []);\n  return [data, filtragem];\n}\n\nexport default FetchPlanets;","map":{"version":3,"sources":["/home/wellington/Área de Trabalho/projects/sd-016-b-project-starwars-planets-search/src/hooks/fetchStarsWars.jsx"],"names":["useEffect","useState","FetchPlanets","url","data","setData","getStarsWars","fetch","then","response","json","dataRes","setPlanets","results","filtragem","name","filterName","planets","filter","item","includes","length"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,SAASC,YAAT,GAAwB;AACtB,QAAMC,GAAG,GAAG,gDAAZ;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,EAAhC;;AACA,QAAMK,YAAY,GAAG,MAAM;AACzBC,IAAAA,KAAK,CAACJ,GAAD,CAAL,CACGK,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESG,OAAD,IAAa;AACjBN,MAAAA,OAAO,CAACM,OAAD,CAAP;AACAC,MAAAA,UAAU,CAACD,OAAO,CAACE,OAAT,CAAV;AACD,KALH;AAMD,GAPD;;AASA,QAAMC,SAAS,GAAIC,IAAD,IAAU;AAC1B,QAAIA,IAAI,KAAK,EAAb,EAAiB;AACfH,MAAAA,UAAU,CAACR,IAAI,CAACS,OAAN,CAAV;AACD,KAFD,MAEO;AACL,YAAMG,UAAU,GAAGC,OAAO,CAACC,MAAR,CAAgBC,IAAD,IAAUA,IAAI,CAACJ,IAAL,CAAUK,QAAV,CAAmBL,IAAnB,CAAzB,CAAnB;;AACA,UAAIC,UAAU,CAACK,MAAX,KAAsB,CAA1B,EAA6B;AAC3BT,QAAAA,UAAU,CAACI,UAAD,CAAV;AACD;AACF;AACF,GATD;;AAWAhB,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,YAAY;AACb,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO,CAACF,IAAD,EAAOU,SAAP,CAAP;AACD;;AAED,eAAeZ,YAAf","sourcesContent":["import { useEffect, useState } from 'react';\n\nfunction FetchPlanets() {\n  const url = 'https://swapi-trybe.herokuapp.com/api/planets/';\n  const [data, setData] = useState();\n  const getStarsWars = () => {\n    fetch(url)\n      .then((response) => response.json())\n      .then((dataRes) => {\n        setData(dataRes);\n        setPlanets(dataRes.results);\n      });\n  };\n\n  const filtragem = (name) => {\n    if (name === '') {\n      setPlanets(data.results);\n    } else {\n      const filterName = planets.filter((item) => item.name.includes(name));\n      if (filterName.length !== 0) {\n        setPlanets(filterName);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getStarsWars();\n  }, []);\n\n  return [data, filtragem];\n}\n\nexport default FetchPlanets;\n"]},"metadata":{},"sourceType":"module"}