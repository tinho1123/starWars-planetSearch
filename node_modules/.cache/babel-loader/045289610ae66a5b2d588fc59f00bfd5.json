{"ast":null,"code":"import { useEffect, useState } from 'react';\n\nfunction FetchPlanets() {\n  const url = 'https://swapi-trybe.herokuapp.com/api/planets/';\n  const [data, setData] = useState();\n  const [planets, setPlanets] = useState();\n\n  const getStarsWars = () => {\n    fetch(url).then(response => response.json()).then(dataRes => {\n      setData(dataRes);\n      setPlanets(dataRes.results);\n    });\n  };\n\n  const filtragem = name => {\n    if (name === '') {\n      setPlanets(data.results);\n    } else {\n      const filterName = planets.filter(item => item.name.includes(name));\n\n      if (filterName.length !== 0) {\n        setPlanets(filterName);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getStarsWars();\n  }, []);\n  return [data, filtragem];\n}\n\nexport default FetchPlanets;","map":{"version":3,"sources":["/home/wellington/Área de Trabalho/projects/sd-016-b-project-starwars-planets-search/src/hooks/fetchStarsWars.jsx"],"names":["useEffect","useState","FetchPlanets","url","data","setData","planets","setPlanets","getStarsWars","fetch","then","response","json","dataRes","results","filtragem","name","filterName","filter","item","includes","length"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,SAASC,YAAT,GAAwB;AACtB,QAAMC,GAAG,GAAG,gDAAZ;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,EAAhC;AACA,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,EAAtC;;AACA,QAAMO,YAAY,GAAG,MAAM;AACzBC,IAAAA,KAAK,CAACN,GAAD,CAAL,CACGO,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESG,OAAD,IAAa;AACjBR,MAAAA,OAAO,CAACQ,OAAD,CAAP;AACAN,MAAAA,UAAU,CAACM,OAAO,CAACC,OAAT,CAAV;AACD,KALH;AAMD,GAPD;;AASA,QAAMC,SAAS,GAAIC,IAAD,IAAU;AAC1B,QAAIA,IAAI,KAAK,EAAb,EAAiB;AACfT,MAAAA,UAAU,CAACH,IAAI,CAACU,OAAN,CAAV;AACD,KAFD,MAEO;AACL,YAAMG,UAAU,GAAGX,OAAO,CAACY,MAAR,CAAgBC,IAAD,IAAUA,IAAI,CAACH,IAAL,CAAUI,QAAV,CAAmBJ,IAAnB,CAAzB,CAAnB;;AACA,UAAIC,UAAU,CAACI,MAAX,KAAsB,CAA1B,EAA6B;AAC3Bd,QAAAA,UAAU,CAACU,UAAD,CAAV;AACD;AACF;AACF,GATD;;AAWAjB,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,YAAY;AACb,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO,CAACJ,IAAD,EAAOW,SAAP,CAAP;AACD;;AAED,eAAeb,YAAf","sourcesContent":["import { useEffect, useState } from 'react';\n\nfunction FetchPlanets() {\n  const url = 'https://swapi-trybe.herokuapp.com/api/planets/';\n  const [data, setData] = useState();\n  const [planets, setPlanets] = useState()\n  const getStarsWars = () => {\n    fetch(url)\n      .then((response) => response.json())\n      .then((dataRes) => {\n        setData(dataRes);\n        setPlanets(dataRes.results);\n      });\n  };\n\n  const filtragem = (name) => {\n    if (name === '') {\n      setPlanets(data.results);\n    } else {\n      const filterName = planets.filter((item) => item.name.includes(name));\n      if (filterName.length !== 0) {\n        setPlanets(filterName);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getStarsWars();\n  }, []);\n\n  return [data, filtragem];\n}\n\nexport default FetchPlanets;\n"]},"metadata":{},"sourceType":"module"}