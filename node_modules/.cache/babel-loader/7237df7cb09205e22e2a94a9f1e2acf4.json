{"ast":null,"code":"var _jsxFileName = \"/home/wellington/\\xC1rea de Trabalho/projects/sd-016-b-project-starwars-planets-search/src/components/Header.jsx\";\nimport React, { useContext, useState } from 'react';\nimport ContextProvider from '../context/ContextProvider';\nconst magicNumber = 8;\n\nfunction Header() {\n  const {\n    planetName,\n    setPlanetName,\n    planets,\n    setShouldFilter,\n    setFilteredPlanets\n  } = useContext(ContextProvider);\n  const [filterName, setFilterName] = useState('population');\n  const [comparator, setComparator] = useState('maior que');\n  const [numericFilter, setNumericFilter] = useState(0);\n  const [arrayColumn, setArrayColumn] = useState(['population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water']);\n\n  function filterNameChange(_ref) {\n    let {\n      target: {\n        value\n      }\n    } = _ref;\n\n    if (value !== '') {\n      return setPlanetName(value);\n    }\n\n    return setPlanetName(value);\n  }\n\n  function changeFilterName(_ref2) {\n    let {\n      target: {\n        value\n      }\n    } = _ref2;\n    setFilterName(value);\n  }\n\n  function changeFilterComparation(_ref3) {\n    let {\n      target: {\n        value\n      }\n    } = _ref3;\n    setComparator(value);\n  }\n\n  function deleteFilter(arrayFilter, filter) {\n    const index = arrayFilter.indexOf(filter);\n    arrayFilter.splice(index, 1);\n    return setArrayColumn(arrayFilter);\n  }\n\n  function changeNumericFilter(_ref4) {\n    let {\n      target: {\n        value\n      }\n    } = _ref4;\n    setNumericFilter(value);\n  }\n\n  function handleClick() {\n    let filter = [];\n\n    if (filterName === 'population' && comparator === 'maior que' && Number(numericFilter) === 0) {\n      return setShouldFilter(true), setFilteredPlanets(planets.slice(0, magicNumber));\n    }\n\n    if (comparator === 'maior que') {\n      filter = planets.filter(planeta => Number(planeta[filterName]) > Number(numericFilter));\n    } else if (comparator === 'menor que') {\n      filter = planets.filter(planeta => Number(planeta[filterName]) < Number(numericFilter));\n    } else if (comparator === 'igual a') {\n      filter = planets.filter(planeta => Number(planeta[filterName]) === Number(numericFilter));\n    }\n\n    return setShouldFilter(true), setFilteredPlanets(filter), deleteFilter(arrayColumn, filterName);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"Projeto Trybe Wars\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    \"data-testid\": \"name-filter\",\n    placeholder: \"Filtrar por nome\",\n    value: planetName,\n    onChange: value => filterNameChange(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    \"data-testid\": \"column-filter\",\n    name: \"filterName\",\n    value: filterName,\n    onChange: value => changeFilterName(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"population\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"population\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"orbital_period\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"orbital_period\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"diameter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, \"diameter\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"rotation_period\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"rotation_period\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"surface_water\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"surface_water\")), /*#__PURE__*/React.createElement(\"select\", {\n    \"data-testid\": \"comparison-filter\",\n    value: comparator,\n    onChange: value => changeFilterComparation(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"maior que\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, \"maior que\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"menor que\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"menor que\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"igual a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, \"igual a\")), /*#__PURE__*/React.createElement(\"input\", {\n    \"data-testid\": \"value-filter\",\n    type: \"number\",\n    value: numericFilter,\n    onChange: evt => changeNumericFilter(evt),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"button-filter\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, \"Filtrar\"));\n}\n\nexport default Header;","map":{"version":3,"sources":["/home/wellington/√Årea de Trabalho/projects/sd-016-b-project-starwars-planets-search/src/components/Header.jsx"],"names":["React","useContext","useState","ContextProvider","magicNumber","Header","planetName","setPlanetName","planets","setShouldFilter","setFilteredPlanets","filterName","setFilterName","comparator","setComparator","numericFilter","setNumericFilter","arrayColumn","setArrayColumn","filterNameChange","target","value","changeFilterName","changeFilterComparation","deleteFilter","arrayFilter","filter","index","indexOf","splice","changeNumericFilter","handleClick","Number","slice","planeta","evt"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport ContextProvider from '../context/ContextProvider';\n\nconst magicNumber = 8;\n\nfunction Header() {\n  const {\n    planetName,\n    setPlanetName,\n    planets,\n    setShouldFilter,\n    setFilteredPlanets,\n  } = useContext(ContextProvider);\n\n  const [filterName, setFilterName] = useState('population');\n  const [comparator, setComparator] = useState('maior que');\n  const [numericFilter, setNumericFilter] = useState(0);\n  const [arrayColumn, setArrayColumn] = useState([\n    'population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water',\n  ]);\n\n  function filterNameChange({ target: { value } }) {\n    if (value !== '') {\n      return setPlanetName(value);\n    }\n    return setPlanetName(value);\n  }\n\n  function changeFilterName({ target: { value } }) {\n    setFilterName(value);\n  }\n\n  function changeFilterComparation({ target: { value } }) {\n    setComparator(value);\n  }\n\n  function deleteFilter(arrayFilter, filter) {\n    const index = arrayFilter.indexOf(filter);\n    arrayFilter.splice(index, 1);\n    return setArrayColumn(arrayFilter);\n  }\n\n  function changeNumericFilter({ target: { value } }) {\n    setNumericFilter(value);\n  }\n\n  function handleClick() {\n    let filter = [];\n    if (filterName === 'population'\n      && comparator === 'maior que'\n      && Number(numericFilter) === 0) {\n      return (\n        setShouldFilter(true),\n        setFilteredPlanets(planets.slice(0, magicNumber))\n      );\n    }\n    if (comparator === 'maior que') {\n      filter = planets.filter(\n        (planeta) => Number(planeta[filterName]) > Number(numericFilter),\n      );\n    } else if (comparator === 'menor que') {\n      filter = planets.filter(\n        (planeta) => Number(planeta[filterName]) < Number(numericFilter),\n      );\n    } else if (comparator === 'igual a') {\n      filter = planets.filter(\n        (planeta) => Number(planeta[filterName]) === Number(numericFilter),\n      );\n    }\n    return (\n      setShouldFilter(true),\n      setFilteredPlanets(filter),\n      deleteFilter(arrayColumn, filterName)\n    );\n  }\n\n  return (\n    <div>\n      <h1>Projeto Trybe Wars</h1>\n\n      <input\n        type=\"text\"\n        data-testid=\"name-filter\"\n        placeholder=\"Filtrar por nome\"\n        value={ planetName }\n        onChange={ (value) => filterNameChange(value) }\n      />\n\n      <select\n        data-testid=\"column-filter\"\n        name=\"filterName\"\n        value={ filterName }\n        onChange={ (value) => changeFilterName(value) }\n      >\n        <option value=\"population\">population</option>\n        <option value=\"orbital_period\">orbital_period</option>\n        <option value=\"diameter\">diameter</option>\n        <option value=\"rotation_period\">rotation_period</option>\n        <option value=\"surface_water\">surface_water</option>\n      </select>\n\n      <select\n        data-testid=\"comparison-filter\"\n        value={ comparator }\n        onChange={ (value) => changeFilterComparation(value) }\n      >\n        <option value=\"maior que\">maior que</option>\n        <option value=\"menor que\">menor que</option>\n        <option value=\"igual a\">igual a</option>\n      </select>\n\n      <input\n        data-testid=\"value-filter\"\n        type=\"number\"\n        value={ numericFilter }\n        onChange={ (evt) => changeNumericFilter(evt) }\n      />\n      <button\n        type=\"button\"\n        data-testid=\"button-filter\"\n        onClick={ handleClick }\n      >\n        Filtrar\n      </button>\n\n    </div>\n  );\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}